(("undefined"!==typeof self?self:this)["webpackJsonpsuperView"]=("undefined"!==typeof self?self:this)["webpackJsonpsuperView"]||[]).push([[5],{"0fc1":function(e,_,t){"use strict";var r=t("e33b"),a=t.n(r);a.a},2877:function(e,_,t){"use strict";function r(e,_,t,r,a,o,s,n){var l,c="function"===typeof e?e.options:e;if(_&&(c.render=_,c.staticRenderFns=t,c._compiled=!0),r&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),s?(l=function(e){e=e||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,e||"undefined"===typeof __VUE_SSR_CONTEXT__||(e=__VUE_SSR_CONTEXT__),a&&a.call(this,e),e&&e._registeredComponents&&e._registeredComponents.add(s)},c._ssrRegister=l):a&&(l=n?function(){a.call(this,(c.functional?this.parent:this).$root.$options.shadowRoot)}:a),l)if(c.functional){c._injectStyles=l;var i=c.render;c.render=function(e,_){return l.call(_),i(e,_)}}else{var u=c.beforeCreate;c.beforeCreate=u?[].concat(u,l):[l]}return{exports:e,options:c}}t.d(_,"a",(function(){return r}))},"4de4":function(e,_,t){"use strict";var r=t("23e7"),a=t("b727").filter,o=t("1dde"),s=t("ae40"),n=o("filter"),l=s("filter");r({target:"Array",proto:!0,forced:!n||!l},{filter:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}})},5530:function(e,_,t){"use strict";t.d(_,"a",(function(){return o}));t("a4d3"),t("4de4"),t("4160"),t("e439"),t("dbb4"),t("b64b"),t("159b");function r(e,_,t){return _ in e?Object.defineProperty(e,_,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[_]=t,e}function a(e,_){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);_&&(r=r.filter((function(_){return Object.getOwnPropertyDescriptor(e,_).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var _=1;_<arguments.length;_++){var t=null!=arguments[_]?arguments[_]:{};_%2?a(Object(t),!0).forEach((function(_){r(e,_,t[_])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(_){Object.defineProperty(e,_,Object.getOwnPropertyDescriptor(t,_))}))}return e}},d5dd:function(module,__webpack_exports__,__webpack_require__){"use strict";var core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("4160"),core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_0___default=__webpack_require__.n(core_js_modules_es_array_for_each__WEBPACK_IMPORTED_MODULE_0__),core_js_modules_es_array_iterator__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("e260"),core_js_modules_es_array_iterator__WEBPACK_IMPORTED_MODULE_1___default=__webpack_require__.n(core_js_modules_es_array_iterator__WEBPACK_IMPORTED_MODULE_1__),core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__("d3b7"),core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_2___default=__webpack_require__.n(core_js_modules_es_object_to_string__WEBPACK_IMPORTED_MODULE_2__),core_js_modules_es_promise__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__("e6cf"),core_js_modules_es_promise__WEBPACK_IMPORTED_MODULE_3___default=__webpack_require__.n(core_js_modules_es_promise__WEBPACK_IMPORTED_MODULE_3__),core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__("159b"),core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_4___default=__webpack_require__.n(core_js_modules_web_dom_collections_for_each__WEBPACK_IMPORTED_MODULE_4__),core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("ddb0"),core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(core_js_modules_web_dom_collections_iterator__WEBPACK_IMPORTED_MODULE_5__),E_SHKHHOME_node_modules_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("53ca"),E_SHKHHOME_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("5530"),regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("96cf"),regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(regenerator_runtime_runtime__WEBPACK_IMPORTED_MODULE_8__),E_SHKHHOME_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__("1da1"),E_SHKHHOME_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_10__=__webpack_require__("b85c"),axios__WEBPACK_IMPORTED_MODULE_11__=__webpack_require__("cebe"),axios__WEBPACK_IMPORTED_MODULE_11___default=__webpack_require__.n(axios__WEBPACK_IMPORTED_MODULE_11__),js_base64__WEBPACK_IMPORTED_MODULE_12__=__webpack_require__("e762");__webpack_exports__["a"]={props:["config"],components:{"sh-two-date":function(){return __webpack_require__.e(1).then(__webpack_require__.bind(null,"84cd"))}},data:function(){return{formData:{},other:{},zd:{},disable:""}},computed:{},methods:{notBlank:function(e){return!(!e||""===e)},runJs:function runJs(item){return eval(js_base64__WEBPACK_IMPORTED_MODULE_12__["a"].decode(item))},getOther:function(){if(this.config.other){var e,_=Object(E_SHKHHOME_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_10__["a"])(this.config.other);try{for(_.s();!(e=_.n()).done;){var t=e.value;"js"===t.type?this.other[t.key]=this.runJs(t.value):this.other[t.key]=t.value}}catch(r){_.e(r)}finally{_.f()}}},update:function(e,_){for(var t in this.disable=_,e)try{this.formData[t]=e[t]}catch(r){console.log("替换",t,"时发生了错误",r)}},selectList:function(e){var _=this;return Object(E_SHKHHOME_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__["a"])(regeneratorRuntime.mark((function t(){var r,a,o,s,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.other){t.next=2;break}return t.abrupt("return");case 2:r={},a=Object(E_SHKHHOME_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_10__["a"])(e.other);try{for(a.s();!(o=a.n()).done;)s=o.value,"js"===s.type?r[s.key]=_.runJs(s.value):r[s.key]=s.value}catch(l){a.e(l)}finally{a.f()}return t.next=7,axios__WEBPACK_IMPORTED_MODULE_11___default.a.post(e.url,_.$mybase.formD(r));case 7:if(n=t.sent,"1"===n.Result){_.$set(_.zd,e.value,n.rows);try{_.$set(_.formData,e.value,n.rows[0][e.keys.value])}catch(c){console.log("设置下拉框初始值发生了错误",c)}}case 9:case"end":return t.stop()}}),t)})))()},selectLabel:function(e,_){return _.keys?e[_.keys.label]:e.label},selectValue:function(e,_){return _.keys?e[_.keys.value]:e.value},cancal:function(){this.$emit("cancal");try{this.$parent.$parent.close()}catch(e){console.log("尝试关闭父窗口发生错误")}},submit:function(){var e=this;return Object(E_SHKHHOME_node_modules_babel_runtime_helpers_esm_asyncToGenerator__WEBPACK_IMPORTED_MODULE_9__["a"])(regeneratorRuntime.mark((function _(){var t,r;return regeneratorRuntime.wrap((function(_){while(1)switch(_.prev=_.next){case 0:if(e.$emit("submit"),e.getOther(),"form"==e.config.formType)try{t=e.$mybase.formD(Object(E_SHKHHOME_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_7__["a"])(Object(E_SHKHHOME_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_7__["a"])({},e.other),e.formData))}catch(a){console.log("设置关联组件发生错误"+a)}else try{t=JSON.stringify(Object(E_SHKHHOME_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_7__["a"])(Object(E_SHKHHOME_node_modules_babel_runtime_helpers_esm_objectSpread2__WEBPACK_IMPORTED_MODULE_7__["a"])({},e.other),e.formData))}catch(a){console.log("设置关联组件发生错误"+a)}return _.next=5,axios__WEBPACK_IMPORTED_MODULE_11___default.a[e.config.method](e.config.url,t,{headers:{"Content-Type":"form"==e.config.formType?"application/x-www-form-urlencoded":"application/json"}});case 5:r=_.sent;try{e.runJs(e.config.afterSubmit)}catch(a){console.log("执行afterSubmit失败：",a)}"1"===r.Result?(e.cancal(),e.$message.success(r.Message)):e.$message.warning(r.Message),console.log(r);case 9:case"end":return _.stop()}}),_)})))()}},created:function(){var e=this;Vue.prototype["$"+this.config.id]=this;var _,t=Object(E_SHKHHOME_node_modules_babel_runtime_helpers_esm_createForOfIteratorHelper__WEBPACK_IMPORTED_MODULE_10__["a"])(this.config.items);try{var r=function(){var t=_.value;if(e.notBlank(t.url)?(e.$set(e.zd,t.value,[]),e.selectList(t)):e.$set(e.zd,t.value,t.children),"object"==Object(E_SHKHHOME_node_modules_babel_runtime_helpers_esm_typeof__WEBPACK_IMPORTED_MODULE_6__["a"])(t.value))t.value.forEach((function(_,r){if("twoDate"==t.type&&void 0!==t.defaultValue)try{e.$set(e.formData,_,moment().format(t.defaultValue[r]))}catch(a){console.log(a)}}));else if(e.$set(e.formData,t.value,""),"date"==t.type&&void 0!==t.defaultValue&&""!=t.defaultValue)e.$set(e.formData,t.value,moment().format(t.defaultValue));else if(void 0!==t.defaultValue&&""!=t.defaultValue)try{e.$set(e.formData,t.value,t.defaultValue)}catch(r){console.log(r)}};for(t.s();!(_=t.n()).done;)r()}catch(a){t.e(a)}finally{t.f()}}}},dbb4:function(e,_,t){var r=t("23e7"),a=t("83ab"),o=t("56ef"),s=t("fc6a"),n=t("06cf"),l=t("8418");r({target:"Object",stat:!0,sham:!a},{getOwnPropertyDescriptors:function(e){var _,t,r=s(e),a=n.f,c=o(r),i={},u=0;while(c.length>u)t=a(r,_=c[u++]),void 0!==t&&l(i,_,t);return i}})},e33b:function(e,_,t){},e439:function(e,_,t){var r=t("23e7"),a=t("d039"),o=t("fc6a"),s=t("06cf").f,n=t("83ab"),l=a((function(){s(1)})),c=!n||l;r({target:"Object",stat:!0,forced:c,sham:!n},{getOwnPropertyDescriptor:function(e,_){return s(o(e),_)}})},ec8f:function(e,_,t){"use strict";t.r(_);var r=function(){var e=this,_=e.$createElement,t=e._self._c||_;return t("div",{staticClass:"form-container",style:e.config.css},[t("div",{staticClass:"form-content"},[t("el-row",e._l(e.config.items,(function(_){return t("el-col",{key:_.id,staticClass:"item-col",class:"tinymce"===_.type?"astart":"",style:{"margin-bottom":e.config.gutterY,"padding-left":"22px",width:_.full?"100%":""},attrs:{span:e.config.span?Math.ceil(24/e.config.span):12}},["textarea"!==_.type&&"checkbox"!=_.type&&e.config.showLabel&&"upload"!=_.type?t("span",{staticClass:"nowarp span-item",style:{width:e.config.labelWidth}},[e._v(e._s(_.label))]):e._e(),"input"===_.type?t("el-input",{style:{width:_.width},attrs:{disabled:e.disable==_.value,placeholder:_.placeholder},model:{value:e.formData[_.value],callback:function(t){e.$set(e.formData,_.value,t)},expression:"formData[item.value]"}}):e._e(),"select"===_.type?t("el-select",{staticClass:" myselect",style:{width:_.width},model:{value:e.formData[_.value],callback:function(t){e.$set(e.formData,_.value,t)},expression:"formData[item.value]"}},e._l(e.zd[_.value],(function(r,a){return t("el-option",{key:a,attrs:{label:e.selectLabel(r,_),value:e.selectValue(r,_)}})})),1):e._e(),"date"===_.type?t("el-date-picker",{style:{width:_.width},attrs:{type:"date","value-format":"yyyyMMdd",format:"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.formData[_.value],callback:function(t){e.$set(e.formData,_.value,t)},expression:"formData[item.value]"}}):e._e(),"twoDate"===_.type?t("sh-two-date",{style:{width:_.width},attrs:{format:"yyyyMMdd",gjzd:_.value,placeholder:_.placeholder},model:{value:e.formData,callback:function(_){e.formData=_},expression:"formData"}}):e._e(),"checkbox"===_.type?t("el-checkbox",{attrs:{"true-label":"1","false-label":"0"},model:{value:e.formData[_.value],callback:function(t){e.$set(e.formData,_.value,t)},expression:"formData[item.value]"}},[e._v(e._s(_.placeholder))]):e._e(),"upload"===_.type?t("el-upload",{staticClass:"sh-upload",attrs:{drag:"",action:_.url,multiple:""}},[t("i",{staticClass:"el-icon-upload"}),t("div",{staticClass:"el-upload-text"},[e._v(e._s(_.placeholder)+";或"),t("em",{staticClass:"ml5 primary"},[e._v("点击上传")])])]):e._e(),"textarea"===_.type?t("el-input",{attrs:{type:"textarea",placeholder:_.placeholder,rows:_.rows},model:{value:e.formData[_.value],callback:function(t){e.$set(e.formData,_.value,t)},expression:"formData[item.value]"}}):e._e(),"tinymce"===_.type?t("tinymce",{staticStyle:{width:"100%"},attrs:{"tinymce-height":Number(_.height)},model:{value:e.formData[_.value],callback:function(t){e.$set(e.formData,_.value,t)},expression:"formData[item.value]"}}):e._e()],1)})),1)],1),e.config.showSubmit?t("div",{staticClass:"footer"},[t("el-button",{on:{click:e.cancal}},[e._v(e._s(e.notBlank(e.config.cancalText)?e.config.cancalText:"取消"))]),t("el-button",{attrs:{type:"primary"},on:{click:e.submit}},[e._v(e._s(e.notBlank(e.config.confirmText)?e.config.confirmText:"提交"))])],1):e._e()])},a=[],o=t("d5dd"),s=o["a"],n=(t("0fc1"),t("2877")),l=Object(n["a"])(s,r,a,!1,null,"7f08c2f1",null);_["default"]=l.exports}}]);